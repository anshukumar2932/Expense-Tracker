<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Manager</title>
    <link rel="stylesheet" href="/static/styles2.css">
</head>
<body>
    <!-- User Info Section -->
    <section class="user-info">
        <h1>Welcome, {{ username }}!</h1>
        <form action="{{ url_for('logout') }}" method="POST">
            <button type="submit" class="logout-btn">Logout</button>
        </form>
    </section>

    <!-- Action Buttons Section -->
    <section class="action-buttons">
        <a href="{{ url_for('add_expense') }}" class="btn-link">
            <button class="action-btn">Add Expense</button>
        </a>
        <a href="{{ url_for('view_expense') }}" class="btn-link">
            <button class="action-btn">View Expenses</button>
        </a>
        <a href="{{ url_for('view_expense') }}" class="btn-link">
            <button class="action-btn">Delete Expenses</button>
        </a>
    </section>

    {% if mode == 'Add' %}
    <!-- Add Expense Form -->
    <section class="form-container">
        <h2>Add Expense</h2>
        <form method="POST">
            <div class="input-group">
                <label for="Date">Date</label>
                <input type="date" id="Date" name="Date" required>
            </div>
            <div class="input-group">
                <label for="Category">Category</label>
                <select id="Category" name="Category" required>
                    <option value="School_fees">School fees</option>
                    <option value="Stationery">Stationery</option>
                    <option value="Recharge">Recharge</option>
                    <option value="Food">Food</option>
                    <option value="Miscellaneous">Miscellaneous</option>
                </select>
            </div>
            <div class="input-group">
                <label for="Particular">Particular</label>
                <input type="text" id="Particular" name="Particular" required>
            </div>
            <div class="input-group">
                <label for="Amount">Amount</label>
                <input type="number" id="Amount" name="Amount" required>
            </div>
            <button type="submit" class="submit-btn">Add Expense</button>
        </form>
    </section>
    {% if get_flashed_messages() %}
        <h3 class="flash-message">{{ get_flashed_messages() | join(" ") }}</h3>
    {% endif %}
    {% endif %}

    {% if mode == 'View' %}
    <!-- View Expenses -->
    <section class="result-container">
        <h2>Expenses List</h2>
        <table class="expense-table">
            <thead>
                <tr>
                    <th>Sl no.</th>
                    <th>Date</th>
                    <th>Category</th>
                    <th>Particular</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                {% for credential in credentials %}
                <tr>
                    <td>{{ credential['id'] }}</td>
                    <td>{{ credential['Date'] }}</td>
                    <td>{{ credential['Category'] }}</td>
                    <td>{{ credential['Particular'] }}</td>
                    <td>Rs {{ credential['Amount'] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
    {% if get_flashed_messages() %}
        <h3 class="flash-message">{{ get_flashed_messages() | join(" ") }}</h3>
    {% endif %}
    {% endif %}
</body>
</html>
